{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/javascript/cookie-domain","result":{"data":{"markdownRemark":{"id":"1df48f01-27e3-59df-be7f-22741f15ba49","html":"<p>안녕하세요!</p>\n<p>이번 포스팅 에서는 같은 도메인 간에 <code class=\"language-text\">쿠키(cookie)</code>🍪 값을 공유하는 방법에 대해 소개해 드리겠습니다.  </p>\n<p>🗣 참고: <a href=\"https://shinsangeun.github.io/posts/web/cookie-session\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">👉🏻[Web] 쿠키(Cookie)와 세션(Session)</a> 포스팅에 쿠키와 세션에 대한 내용도 읽어보세요!🙆🏻‍♀️</p>\n<hr>\n<h3 id=\"1-개요\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94\" aria-label=\"1 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요</h3>\n<ul>\n<li>예를 들어 <code class=\"language-text\">aaa.test.co.kr</code> 이라는 도메인과 <code class=\"language-text\">bbb.test.co.kr</code> 이라는 도메인이 있어요.</li>\n<li>맨 앞의 최상위 도메인만 빼고 나머지 주소는 같은 값 이예요. 보통 최상위 도메인은 현업에서는 메뉴나 쓰이는 방식에 따라서 결정 되기 때문에 나머지 2차, 3차 도메인이 같은거는 자주 있는 규칙 입니다.</li>\n<li><code class=\"language-text\">aaa.test.co.kr</code>에서 쓰던 쿠키 값을 <code class=\"language-text\">bbb.test.co.kr</code>에서 똑같은 값으로 유지하고 사용 할 때도 있으므로 이럴 경우에, 같은 도메인에서 쿠키 값을 공유 하는 방법에 대해 알려 드리겠습니다.</li>\n</ul>\n<h3 id=\"2-setcookie-함수\" style=\"position:relative;\"><a href=\"#2-setcookie-%ED%95%A8%EC%88%98\" aria-label=\"2 setcookie 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. setCookie 함수</h3>\n<p><strong>Javascript</strong>에서 Cookie 값을 사용 할 때 Cookie 값을 얻기 위해서는 <strong>getCookie</strong> 함수, Cookie 값을 저장하기 위해서는 <strong>setCookie</strong> 함수를 사용 합니다.</p>\n<ul>\n<li>아래에 <code class=\"language-text\">setCookie</code> 함수 기본적인 예제를 보여 드리겠습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">setCookie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cname<span class=\"token punctuation\">,</span> cvalue<span class=\"token punctuation\">,</span> exdays</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n d<span class=\"token punctuation\">.</span><span class=\"token function\">setTime</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>exdays<span class=\"token operator\">*</span><span class=\"token number\">24</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">let</span> expires <span class=\"token operator\">=</span> <span class=\"token string\">\"expires=\"</span><span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n document<span class=\"token punctuation\">.</span>cookie <span class=\"token operator\">=</span> cname <span class=\"token operator\">+</span> <span class=\"token string\">\"=\"</span> <span class=\"token operator\">+</span> cvalue <span class=\"token operator\">+</span> <span class=\"token string\">\";\"</span> <span class=\"token operator\">+</span> expires <span class=\"token operator\">+</span> <span class=\"token string\">\";path=/\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>함수를 호출 할 때는 <code class=\"language-text\">setCookie(&#39;isOpen&#39;, &#39;true&#39;, 1);</code> 이런 식으로 사용 합니다. 뜻은 <U>‘isOpen’ 이라는 쿠키가 ‘true’ 값 이고 1일 후에 만료 된다</U> 입니다.</li>\n</ul>\n<h3 id=\"3-적용-방법\" style=\"position:relative;\"><a href=\"#3-%EC%A0%81%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\"3 적용 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 적용 방법</h3>\n<p>위의 기본 방법으로 설정 했을 때 <code class=\"language-text\">aaa.test.co.kr</code> 도메인 값과 <code class=\"language-text\">bbb.test.co.kr</code> 도메인 값에 ‘isOpen’ 이라는 쿠키 값이 각각 저장 되게 됩니다.<br>\n근데 어차피 같은 도메인에서 사용하는 값이고, 쿠키 값이 동일 하게 유지 되어야 하는 거라면, 쿠키 값을 공유하는게 더 좋겠죠?</p>\n<ul>\n<li>도메인간 공유를 위해 setCookie 함수에 Domain 파라미터를 추가 합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">setCookie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cname<span class=\"token punctuation\">,</span> cvalue<span class=\"token punctuation\">,</span> exdays</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n d<span class=\"token punctuation\">.</span><span class=\"token function\">setTime</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>exdays<span class=\"token operator\">*</span><span class=\"token number\">24</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">let</span> expires <span class=\"token operator\">=</span> <span class=\"token string\">\"expires=\"</span><span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">const</span> domain <span class=\"token operator\">=</span> <span class=\"token string\">\"test.co.kr\"</span><span class=\"token punctuation\">;</span>\n document<span class=\"token punctuation\">.</span>cookie <span class=\"token operator\">=</span> cname <span class=\"token operator\">+</span> <span class=\"token string\">\"=\"</span> <span class=\"token operator\">+</span> cvalue <span class=\"token operator\">+</span> <span class=\"token string\">\";\"</span> <span class=\"token operator\">+</span> expires <span class=\"token operator\">+</span> <span class=\"token string\">\";path=/;\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"domain=\"</span> <span class=\"token operator\">+</span> domain <span class=\"token operator\">+</span> <span class=\"token string\">\";\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>이렇게 setCookie 함수에 Domain을 추가 함으로써, 같은 도메인 간에는 서로 같은 쿠키 값이 유지 되게 됩니다. 만약에 <code class=\"language-text\">ccc.test.co.kr</code> 라는 도메인이 있다면 거기에도 같은 쿠키 값이 공유되게 됩니다. </li>\n</ul>\n<h3 id=\"4-마치며\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"4 마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 마치며</h3>\n<ul>\n<li>웹 개발 시에 쿠키 값을 유지하고, 공유 하는 작업은 처음 해봐서 블로그에 적게 되었습니다. 생각보다 간단 하죠?!🤭</li>\n<li>생각 보다 간단 하지만 구글링하고 삽질하는데 시간이 꽤 오래 걸려서…저 같은 분들에게 도움이 되셨으면 좋겠어요!👍🏻</li>\n</ul>\n<hr>\n<p>오늘 준비한 내용은 여기까지 입니다.  </p>\n<p>이번 포스팅이 도움이 되셨으면 아래 <strong>좋아요</strong> 버튼과,<br>\n궁금한 점이 있으시다면 언제든지 <strong>댓글</strong>을 달아주세요!🤖✨</p>","fields":{"slug":"/posts/javascript/cookie-domain","tagSlugs":["/tag/javascript/","/tag/cookie/","/tag/domain/"]},"frontmatter":{"date":"2021-09-09 11:01:10","description":"이번 포스팅 에서는 같은 도메인 간 쿠키(cookie) 값을 공유하는 방법에 대해 소개해 드리겠습니다.","tags":["Javascript","cookie","domain"],"title":"[Javascript] 같은 도메인 간 쿠키 값 공유하기","socialImage":null}}},"pageContext":{"slug":"/posts/javascript/cookie-domain"}},"staticQueryHashes":["251939775","401334301","825871152"]}