{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/react/react-player-2","result":{"data":{"markdownRemark":{"id":"3c17a7bc-54b1-5947-b07e-ce5e3d1f4461","html":"<p>안녕하세요!</p>\n<p>지난번에 소개해 드린 <strong>react-player</strong> 에 대한 포스팅이 블로그에서 가장 많은 페이지 뷰를 기록 했습니다!👍🏻<br>\n그만큼 많은 분들이 사용하고 찾아보는 라이브러리 이겠죠..?!</p>\n<p>이번 포스팅에서는 react-player에서 특정 시간만 영상 재생을 하는 기능에 대해 소개해 드리겠습니다.</p>\n<hr>\n<h3 id=\"1-개요\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94\" aria-label=\"1 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요</h3>\n<p>react-player에 대한 간단한 소개와 설치, 셋팅 방법은 <a href=\"https://shinsangeun.github.io/posts/react/react-player\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[React] react-player 소개 및 활용 (feat. onEnded)</a> 여기를 참고해 주세요!</p>\n<h4 id=\"2-샘플-코드\" style=\"position:relative;\"><a href=\"#2-%EC%83%98%ED%94%8C-%EC%BD%94%EB%93%9C\" aria-label=\"2 샘플 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 샘플 코드</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import ReactPlayer from &#39;react-player/lazy&#39;;\n\nconst Video = ({playList, index}) =&gt; {\n    return (\n        &lt;&gt;\n            &lt;h2&gt;Player Test&lt;/h2&gt;\n            &lt;div className=&#39;player-wrapper&#39;&gt;\n                &lt;ReactPlayer\n                    className=&#39;react-player&#39;\n                    url={&#39;https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4&#39;}    // 플레이어 url\n                    width=&#39;800px&#39;         // 플레이어 크기 (가로)\n                    height=&#39;500px&#39;        // 플레이어 크기 (세로)\n                    playing={true}        // 자동 재생 on\n                    muted={true}          // 자동 재생 on\n                    controls={true}       // 플레이어 컨트롤 노출 여부\n                    light={false}         // 플레이어 모드\n                    pip={true}            // pip 모드 설정 여부\n                    poster={&#39;https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg&#39;}   // 플레이어 초기 포스터 사진\n                    onEnded={() =&gt; handleVideo()}  // 플레이어 끝났을 때 이벤트\n                /&gt;\n            &lt;/div&gt;\n        &lt;/&gt;\n    )\n}\n\nexport default Video;</code></pre></div>\n<ul>\n<li>자동 재생 설정을 하려면, playing과 muted를 <strong>true</strong>로 해야 autoplay 설정이 됩니다.</li>\n<li>위의 코드를 로컬에서 실행하면 아래와 같은 화면이 나타납니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 822px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVQI1zWLOwrCQBQAcwchjS4IhrSWFp5Ai6CSTfZlf9kQrQSP5ClEzOXGD1gMUwyTnYctt+uGbig4iGKvcyrJOXaKqi6pTYGJCjsuaNKcpldIv8SnNXEscZcSGVfsTjMerztZTIKPhhiFEARrDdZ9abFe40KLDwbnzc9/nP901xA+X0wdWldM05M3TVlQWpswA/4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/15370036be0f4eafce9746547d7002df/8ac56/playerTime.webp 240w,\n/static/15370036be0f4eafce9746547d7002df/d3be9/playerTime.webp 480w,\n/static/15370036be0f4eafce9746547d7002df/355f1/playerTime.webp 822w\"\n              sizes=\"(max-width: 822px) 100vw, 822px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/15370036be0f4eafce9746547d7002df/8ff5a/playerTime.png 240w,\n/static/15370036be0f4eafce9746547d7002df/e85cb/playerTime.png 480w,\n/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png 822w\"\n            sizes=\"(max-width: 822px) 100vw, 822px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png\"\n            alt=\"react_player\"\n            title=\"react_player\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"3-특정-구간-재생\" style=\"position:relative;\"><a href=\"#3-%ED%8A%B9%EC%A0%95-%EA%B5%AC%EA%B0%84-%EC%9E%AC%EC%83%9D\" aria-label=\"3 특정 구간 재생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 특정 구간 재생</h4>\n<p>플레이어의 특정 구간만 재생 할 수 있는 코드를 추가해 보겠습니다.\nonDuration, getDuration 등 다양한 함수들이 있어서 테스트를 해보았는데 생각보다 간단한(?) 방법이 있었습니다 .</p>\n<p>react-player github에 있는 <a href=\"https://github.com/CookPete/react-player/issues/433\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">👉🏻이슈</a> 를 참고 하였고,\n맨 하단에 있는 방법으로 추가하니 원하는 방향으로 정상 동작 하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">url={playerUrl + &quot;#t=${startTime},${endTime}&quot;}</code></pre></div>\n<p>url에 startTime과 endTime 파라미터를 추가해주면 됩니다.\n적용한 코드는 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import ReactPlayer from &#39;react-player/lazy&#39;;\nimport {useState, useRef} from &quot;react&quot;;\n\ntype VideoPlayerProps = {\n    title: string;\n    vodPlaylistId: string;\n}\n\nconst VideoPlayer = ({}: VideoPlayerProps) =&gt; {\n    const [playIndex, setPlayIndex] = useState(0);\n    const playerRef = useRef();\n\n    const playList = [\n        {index:1, url: &#39;https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4&#39;},\n        {index:2, url: &#39;http://sample.vodobox.net/skate_phantom_flex_4k/skate_phantom_flex_4k.m3u8&#39;},\n        {index:3, url: &#39;http://playertest.longtailvideo.com/adaptive/wowzaid3/playlist.m3u8&#39;}\n    ];\n\n    if(playList === null) return &lt;p&gt;Loading...&lt;/p&gt;;\n\n    return (\n        &lt;&gt;\n            &lt;h2&gt;Player Test&lt;/h2&gt;\n            &lt;ReactPlayer\n                // @ts-ignore\n                ref={playerRef}\n                // @ts-ignore\n                url={playList[playIndex].url + &quot;#t=3,10&quot;}\n                playing\n                controls\n                muted\n                progressInterval={1000}\n                pip={true}\n                width={&#39;800px&#39;}\n                height={&#39;500px&#39;}\n            /&gt;\n        &lt;/&gt;\n    )\n}\n\nexport default VideoPlayer;</code></pre></div>\n<p><strong>“#t=3,10”</strong> 을 추가함으로써 플레이어는 3초 지점에 영상이 재생되고 10초 지점에 영상이 멈추게 됩니다.<br>\n영상이 재생 되고 10초 지점에 일시 정지 되는 모습 입니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 822px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.083333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVQI1zWLOwrCQBQAcwchjS4IhrSWFp5Ai6CSTfZlf9kQrQSP5ClEzOXGD1gMUwyTnYctt+uGbig4iGKvcyrJOXaKqi6pTYGJCjsuaNKcpldIv8SnNXEscZcSGVfsTjMerztZTIKPhhiFEARrDdZ9abFe40KLDwbnzc9/nP901xA+X0wdWldM05M3TVlQWpswA/4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/15370036be0f4eafce9746547d7002df/8ac56/playerTime.webp 240w,\n/static/15370036be0f4eafce9746547d7002df/d3be9/playerTime.webp 480w,\n/static/15370036be0f4eafce9746547d7002df/355f1/playerTime.webp 822w\"\n              sizes=\"(max-width: 822px) 100vw, 822px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/15370036be0f4eafce9746547d7002df/8ff5a/playerTime.png 240w,\n/static/15370036be0f4eafce9746547d7002df/e85cb/playerTime.png 480w,\n/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png 822w\"\n            sizes=\"(max-width: 822px) 100vw, 822px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/15370036be0f4eafce9746547d7002df/f73a1/playerTime.png\"\n            alt=\"img.png\"\n            title=\"img.png\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>초(seconds) 를 기준으로 동작 되어서 <strong>“#t=72,100”</strong> 로 설정하면 <U>1분 12초에 영상이 재생</U> 되고 <U>1분 40초에 영상이 정지</U> 됩니다.</p>\n<h3 id=\"4-마치며\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"4 마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 마치며</h3>\n<ul>\n<li>이렇게 간단하고 쉬운 옵션이 있는데.. 왜 github <code class=\"language-text\">ReadMe.md</code> 에는 어려운 onDuration(), getDuration() 함수만 있고 이런 자세한 내용이 안 쓰여져 있는 건지..!아쉽네요🧐</li>\n<li>그래도 원하는 기능을 구현 할 수 있게 라이브러리가 잘 만들어져 있어서 아주 유용하게 쓸 수 있을 것 같아요🤘🏻</li>\n</ul>\n<hr>\n<p>오늘 준비한 내용은 여기까지 입니다.<br>\n이번 포스팅이 도움이 되셨거나 궁금한 점이 있으시다면 언제든지 댓글을 달아주세요!🙋🏻‍♀️✨    </p>","fields":{"slug":"/posts/react/react-player-2","tagSlugs":["/tag/react/","/tag/next-js/","/tag/react-player/","/tag/how-to-specific-set-time-in-react-player/"]},"frontmatter":{"date":"2022-09-07 23:47:20","description":"안녕하세요! 이번 포스팅 에서는 react-player 라이브러리를 활용 하여 특정 시간만 영상 재생을 하는 기능에 대해 소개해 드리겠습니다.","tags":["React","Next.js","react-player","How to specific set time in react-player"],"title":"[React] react-player 활용 (feat. 특정 시간 재생)","socialImage":null}}},"pageContext":{"slug":"/posts/react/react-player-2"}},"staticQueryHashes":["251939775","401334301","825871152"]}