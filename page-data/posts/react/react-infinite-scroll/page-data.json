{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/react/react-infinite-scroll","result":{"data":{"markdownRemark":{"id":"d4964a3f-1672-5fc6-ac9e-844f61530602","html":"<p>안녕하세요!</p>\n<p>이번 포스팅 에서는 무한 스크롤 라이브러리를 활용 하여 <code class=\"language-text\">React.js</code> 프로젝트에서 사용하는 방법에 대해 소개해 드리겠습니다.</p>\n<hr>\n<h3 id=\"1-개요\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94\" aria-label=\"1 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요</h3>\n<ul>\n<li>데이터가 많아지면 페이지 로딩이 느려지는 이슈가 있어서, 개선 방법을 찾아보다가 스크롤 시 마다 데이터를 호출 하면 페이지 로딩 속도를 빠르게 할 수 있다는 아이디어를 얻게 되었습니다.</li>\n<li>React에서 무한 스크롤을 사용하기 위해서 여러가지 라이브러리를 찾아 보게 되었습니다. 다양한 단어(<code class=\"language-text\">무한 스크롤</code>, <code class=\"language-text\">react-virtualize</code>, <code class=\"language-text\">infinite-scoll</code>)로 불리는 무한 스크롤을 쉽고 간단하게 사용 할 수 있는 라이브러리를 선택 해 보았습니다.</li>\n<li>제가 선택한 무한 스크롤 라이브러리는 <strong>react-infinite-scroll-component</strong> 입니다. </li>\n</ul>\n<h3 id=\"2-react-infinite-scroll-component-사용-방법\" style=\"position:relative;\"><a href=\"#2-react-infinite-scroll-component-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\"2 react infinite scroll component 사용 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. react-infinite-scroll-component 사용 방법</h3>\n<ul>\n<li>공식 사이트: <a href=\"https://github.com/ankeetmaini/react-infinite-scroll-component\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Github 링크</a>, <a href=\"https://www.npmjs.com/package/react-infinite-scroll-component\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">npm 링크</a>, <a href=\"https://codesandbox.io/s/r7rp40n0zm?file=/src/index.js:91-122\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">sandbox 예제</a></li>\n<li>(2022.02 기준) 현재 주간 다운로드 수는 <strong>382,210</strong> 이고, 6년전 부터 아직까지는 꾸준히 업데이트 되고 있어요.</li>\n<li>여러가지 무한 스크롤 관련 라이브러리를 직접 사용 해 보았을 때, 소스가 직관적이고 사용하기 편해서 선택하게 되었습니다. (⛔️ 개인적인 견해이기 때문에 꼭! 이 라이브러리를 필수로 사용 해야 한다는 것은 아니니 참고만 부탁 드립니다.)</li>\n</ul>\n<h4 id=\"모듈-설치-및-설명\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%93%88-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%A4%EB%AA%85\" aria-label=\"모듈 설치 및 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모듈 설치 및 설명</h4>\n<ol>\n<li>\n<p>해당 라이브러리를 사용하기 위해서 먼저 모듈을 설치 해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install react-infinite-scroll-component</code></pre></div>\n</li>\n<li>Github 링크에서 <code class=\"language-text\">README.md</code>에 있는 글을 바탕으로 간략하게 설명 해 드리겠습니다.</li>\n<li>기본 예제 코드</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;InfiniteScroll\n  dataLength={items.length} //This is important field to render the next data\n  next={fetchData}\n  hasMore={true}\n  loader={&lt;h4&gt;Loading...&lt;/h4&gt;}\n  endMessage={\n    &lt;p style={{ textAlign: &#39;center&#39; }}&gt;\n      &lt;b&gt;Yay! You have seen it all&lt;/b&gt;\n    &lt;/p&gt;\n  }\n  // below props only if you need pull down functionality\n  refreshFunction={this.refresh}\n  pullDownToRefresh\n  pullDownToRefreshThreshold={50}\n  pullDownToRefreshContent={\n    &lt;h3 style={{ textAlign: &#39;center&#39; }}&gt;&amp;#8595; Pull down to refresh&lt;/h3&gt;\n  }\n  releaseToRefreshContent={\n    &lt;h3 style={{ textAlign: &#39;center&#39; }}&gt;&amp;#8593; Release to refresh&lt;/h3&gt;\n  }\n&gt;\n  {items}\n&lt;/InfiniteScroll&gt;</code></pre></div>\n<h4 id=\"infinitescroll-컴포넌트-파라미터-설명\" style=\"position:relative;\"><a href=\"#infinitescroll-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0-%EC%84%A4%EB%AA%85\" aria-label=\"infinitescroll 컴포넌트 파라미터 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>InfiniteScroll 컴포넌트 파라미터 설명</h4>\n<ul>\n<li>dataLength: 데이터를 로드할 때 사용 하는 data 길이 (필수: 없으면 에러)</li>\n<li>next: 다음 데이터를 호출 하기 위해 사용 하는 함수</li>\n<li>hasMore: 스크롤 뒤에 호출 할 데이터의 유/무 (없으면 false로 해도 되지만, false 일 때는 스크롤을 아래로 내렸을 때 데이터 호출 되지 않음)</li>\n<li>loader: 데이터가 로딩 중일 때 표시 되는 문구 or 컴포넌트</li>\n<li>endMessage: 데이터 호출이 완료 되고 더이상 데이터가 없을 경우 표시되는 문구 or 컴포넌트</li>\n<li>아래 있는 내용은 저도 사용해 보지는 않았지만, pull down 시 사용하는 함수 입니다.</li>\n</ul>\n<h3 id=\"3-활용-방법\" style=\"position:relative;\"><a href=\"#3-%ED%99%9C%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\"3 활용 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 활용 방법</h3>\n<ul>\n<li>실제 사용 할 때는 API 연동을 해서 사용하기 때문에 <strong>react-infinite-scroll-component</strong>의 <a href=\"https://codesandbox.io/s/r7rp40n0zm?file=/src/index.js:91-122\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">sandbox 예제</a> 를 활용 해서 <code class=\"language-text\">API 연동</code>과 <code class=\"language-text\">페이징</code>을 추가 했습니다.</li>\n<li>무한 스크롤을 하기 위해 API 연동이 필요 하여 <a href=\"https://yts.mx/api/v2/list_movies.json\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">영화 API</a> 를 사용 하였습니다.</li>\n<li>예제 활용 코드 (test.tsx 파일)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import InfiniteScroll from &quot;react-infinite-scroll-component&quot;;\nimport {useEffect, useState} from &quot;react&quot;;\nimport axios from &quot;axios&quot;;\n\nconst style = {\n    height: 40, border: &quot;1px solid green&quot;, margin: 10, padding: 8\n};\n\nconst test = () =&gt; {\n    const [pageNum, setPageNum] = useState(1);\n    const [data, setData] = useState(&#39;&#39;);\n\n    const getMovieList = async (pageNum: number) =&gt; {\n        await axios\n            .get(`https://yts.mx/api/v2/list_movies.json?page=${pageNum}`)\n            .then((res) =&gt; {\n                data === &#39;&#39; ? setData(res.data.data.movies) : setData(data.concat(res.data.data.movies));\n            });\n    }\n\n    useEffect( () =&gt; {\n        getMovieList(pageNum);\n    }, []);\n\n    const fetchMoreData = () =&gt; {\n        setPageNum (pageNum +1);\n        getMovieList(pageNum+1);\n    }\n\n    if(data === &#39;&#39; || data === undefined) return &lt;&gt;loading...&lt;/&gt;;\n\n    console.log(&quot;Data==&gt;&quot;, data);\n\n    return(\n        &lt;div&gt;\n            &lt;h1&gt;Movie: react-infinite-scroll-component&lt;/h1&gt;\n            &lt;hr /&gt;\n            &lt;div id=&quot;scrollableDiv&quot; style={{ height: 600, overflow: &quot;auto&quot; }}&gt;\n                &lt;InfiniteScroll\n                    dataLength={data.length}\n                    next={fetchMoreData}\n                    hasMore={true}\n\n                    // next={type === &quot;movie&quot; ? fetchMoreData : () =&gt; {}}\n                    // hasMore={type === &quot;movie&quot;}\n\n                    loader={&lt;h4&gt;Loading...&lt;/h4&gt;}\n                    scrollableTarget=&quot;scrollableDiv&quot;\n                &gt;\n                    {data.map((i: any, index: number) =&gt; (\n                        &lt;div style={style} key={index}&gt;\n                            순서: {index+1} 영화 제목: {data[index].title}\n                        &lt;/div&gt;\n                    ))}\n                &lt;/InfiniteScroll&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n\nexport default test;</code></pre></div>\n<h4 id=\"코드-설명\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EC%84%A4%EB%AA%85\" aria-label=\"코드 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 설명</h4>\n<ol>\n<li>페이지가 랜딩 될 때 <code class=\"language-text\">useEffect</code>를 통해 <code class=\"language-text\">getMovieList(pageNum)</code> 함수를 한번 호출 합니다.</li>\n<li><code class=\"language-text\">https://yts.mx/api/v2/list_movies.json?page=${pageNum}</code> API를 호출 하여 pageNum이 1인 데이터를 호출 합니다.</li>\n<li>처음 데이터 호출 시에는 data가 <code class=\"language-text\">useState(&#39;&#39;)</code> 이므로 <code class=\"language-text\">setData(res.data.data.movies)</code>가 실행 됩니다.</li>\n<li>데이터 호출이 정상적으로 되면 아래와 같이 리스트가 화면에 나타납니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/523d6a58df074e25f36e3580957fbcc8/9f9a4/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACcklEQVQ4y5VUi1LiQBDM/3+Xd3WHCIoaNATyfhJIINm8SNK3MwrqlSiG6prZ2t2hp2dmlWz6B9vxbyTTv0iXGkL1Hok2Z7/2bDS+jTZw2Da+I333de2gsJbITV1ieYKiPjxgpevwXReWYcAyDeiahrmqwrFthL7P+45lwZVr01jBNk25Z6Ftagx9j77rMEiQVUaja0ymUzw9PWMymUj7hOn0FqPRCLPZDLP7e4xvbvD4qGI8HuPq6hdG19e4vbtD27YYAPT9gH4YMEgoh6FF2ZTIRQ5RC4hK4LNv4Ksfv6qt+G5FkH5RFVCCTQDDNbAwFzAcA04otamLFzSf4N1e2ZYnVIcKu3IHJcoi2IHNQSmYbutYZ2uIg0Be58iby1C0BVKRQgm3IVbuCpqpsV05Lz4xF63A/sKgxJgDJrsEYRLCizzE2xjRJkKQBAg3IUQjPqT1FU4px2nM2mkrDbbsNcuzGBSYdTr8MGCUSg1DqaFnwo1dmL7sschB2ZUX6/chZdJwaS9ZN8MzuCjH9bPxzIfo8HcFoqJkIpMa7hPWzI1c+LGP7X6Luq85hbqTtnuzVKRzIGmyUgb0Eg8La4H5cs7srMACsY53a640SUKW1sRkX+8/Be1xwLU86IYu96K/9rkXLd86+UcbbSMWv2jOsyRZFGpi0zWxlC8HtQ75WZGhkz9KldJv+ob976pMWjNDYkGsvNjj/iOf0uZ/bc6M4P+QRaHUFT/xeUJUXWUNqbLURpt886rZ5a3DAYkh6UNVJnbENi1Srpr4Qq+zGtKkUFFIw+Ok0ORQ+zRdc9LnEhABhR7F41s34M3vhx5d3/0IdOcfupbv3yWFqxUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/523d6a58df074e25f36e3580957fbcc8/8ac56/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.webp 240w,\n/static/523d6a58df074e25f36e3580957fbcc8/d3be9/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.webp 480w,\n/static/523d6a58df074e25f36e3580957fbcc8/e46b2/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.webp 960w,\n/static/523d6a58df074e25f36e3580957fbcc8/f992d/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.webp 1440w,\n/static/523d6a58df074e25f36e3580957fbcc8/9fbc2/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.webp 1560w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/523d6a58df074e25f36e3580957fbcc8/8ff5a/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png 240w,\n/static/523d6a58df074e25f36e3580957fbcc8/e85cb/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png 480w,\n/static/523d6a58df074e25f36e3580957fbcc8/d9199/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png 960w,\n/static/523d6a58df074e25f36e3580957fbcc8/07a9c/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png 1440w,\n/static/523d6a58df074e25f36e3580957fbcc8/9f9a4/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png 1560w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/523d6a58df074e25f36e3580957fbcc8/d9199/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8.png\"\n            alt=\"list\"\n            title=\"list\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li>F12를 눌러서 콘솔창을 확인 해 보시면, 데이터의 갯수와 내용을 확인 할 수 있습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ca54cfe95bff2e825fdb133138a60da/252a4/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 11.249999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWElEQVQI143Myw2AIAAEUUpRQb4CIoFIPBgx2n9Ha7ABPbzbZMhRL5RtR8oF1gX4OUJpCyHNp9aFmBHTirBkDJSD1PMGFxpm8tDGvUauQJkAG+Vvbdb1DA8rBzv5+YPdngAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2ca54cfe95bff2e825fdb133138a60da/8ac56/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 240w,\n/static/2ca54cfe95bff2e825fdb133138a60da/d3be9/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 480w,\n/static/2ca54cfe95bff2e825fdb133138a60da/e46b2/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 960w,\n/static/2ca54cfe95bff2e825fdb133138a60da/bf23a/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 1314w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2ca54cfe95bff2e825fdb133138a60da/8ff5a/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png 240w,\n/static/2ca54cfe95bff2e825fdb133138a60da/e85cb/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png 480w,\n/static/2ca54cfe95bff2e825fdb133138a60da/d9199/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png 960w,\n/static/2ca54cfe95bff2e825fdb133138a60da/252a4/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png 1314w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2ca54cfe95bff2e825fdb133138a60da/d9199/%EC%B4%88%EA%B8%B0%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n            alt=\"data\"\n            title=\"data\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li>스크롤을 내리다가 스크롤이 화면 맨 아래쪽에 위치 했을 때, <code class=\"language-text\">next</code> 파라미터에 있는 <code class=\"language-text\">fetchMoreData</code> 함수가 실행 됩니다. (<code class=\"language-text\">hasMore</code>가 <strong>true</strong>인 상태에서! <strong>false</strong>일 때는 동작하지 않음)</li>\n<li>\n<p><code class=\"language-text\">fetchMoreData</code> 함수 에서는 pageNum을 1페이지씩 증가 시키고, <code class=\"language-text\">getMovieList(pageNum+1)</code> 함수를 다시 호출 합니다. 초기에는 1페이지의 데이터를 호출하고, 다음 부터는 2, 3, 4…페이지 번호를 하나씩 늘리면서 API 데이터를 호출 하게 되는 <U>페이징 처리</U>가 가능 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const fetchMoreData = () =&gt; {\n    setPageNum (pageNum +1);\n    getMovieList(pageNum+1);\n}</code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">getMovieList(pageNum+1)</code> 함수가 실행 되면 setData를 할 때<br>\n초기 로딩 시에는 <U>setData(res.data.data.movies)</U> 함수가 실행 되고, 데이터가 있을 경우에는 <U>setData(data.concat(res.data.data.movies))</U> 함수가 실행됩니다.<br>\n<strong>concat</strong> 함수를 사용하여 데이터를 합칩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">data === &#39;&#39; ? setData(res.data.data.movies) : setData(data.concat(res.data.data.movies));</code></pre></div>\n</li>\n<li>무한 스크롤이 정상 동작 하면 스크롤을 내릴 때 마다 API 데이터의 다음 페이지를 호출 하여 데이터가 점차 늘어 납니다.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6437a9832115eeeb10ade74ac680c70c/844cc/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGUlEQVQoz3WR21bCQAxF+x8CBaH360zboRf1kapQ5f9/JuYERiksH/ZKJpOcnkydw/hBjempblrKC01FWUnMciXxlttampWkK0OmHagb3ijhs9I1OYfxkwpVU1XvRazkHCDHQJzk5AcxBWEyAzXcZSyOfj9ISENwfD+yWPvg8N7tPXBYXo3AZcTi4nD6OnODfnAI4DBJC3EURukM1GK+gzjmPD/m/qug0oZp5KtwhAHPj2QtG23+Vw/FVV5cnga5rhpyTtM3mf3A9L9rQhjObLTgbFfGWd38lDRTl5VP01lEei623cuMrn+VZkTcN6YTN3geRAvef+eFpFRFzpEFnxaurLDdBf+CgfVmS8vVhlbu8wyXWSzXsvIPGwD5GmIcDyMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/6437a9832115eeeb10ade74ac680c70c/8ac56/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 240w,\n/static/6437a9832115eeeb10ade74ac680c70c/d3be9/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 480w,\n/static/6437a9832115eeeb10ade74ac680c70c/e46b2/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 960w,\n/static/6437a9832115eeeb10ade74ac680c70c/83135/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 1306w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/6437a9832115eeeb10ade74ac680c70c/8ff5a/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png 240w,\n/static/6437a9832115eeeb10ade74ac680c70c/e85cb/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png 480w,\n/static/6437a9832115eeeb10ade74ac680c70c/d9199/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png 960w,\n/static/6437a9832115eeeb10ade74ac680c70c/844cc/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png 1306w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/6437a9832115eeeb10ade74ac680c70c/d9199/%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%8B%9C%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n            alt=\"스크롤시데이터\"\n            title=\"스크롤시데이터\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span><br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fbd9018d3b1bba7ed8145a7ade13c635/bc81a/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5ElEQVQoz02S627aQBCFeZUkTfEFm4uhqZSqVcKlUd//T1SzvkJtp7g1GGxDm9OZIUb16mjWK+3Z7+xsx3VdeMqD+90Fz9VSQSmF5XKJwA/QNA34S9MM08UTNN1GfzSBPhhBHzownQlsZwx7cg9rOEYnXIdQgUK0jrBKVghWAeIkxub3Bptig7IqcaLhhR4+P8xh9kYwrQGuuwauNQM3pFuaG9YQes9GJ0oieLGH8EeIsilxpFH/rVH9qUTt2jJUmM6+kqENw7Twnkw0zUSXKs/t/gg9OqgTZzG8lY/sV4Zds8O23op29U5UVFvUrzXcwMV88Q0WbRxSZDYwTJsO6MMgjZw7WPaQDNMYKlJIfiYoDoVQHY6Hi5jwRITqjZApBnRXXDW9B92wRLJmE2GYhERIkaly/CQn46oQIyEmwobGs3rGw+NcKFgXOtMWMTWbdtYva7m/fJdTxFIo2Wx/3IvK+nyHru/icbpAf+DAGd9RxA8i/ucD2JDn0hQVeWBjNqpO1cVMDN+a0kbmzXx/TMexOS5H5zVWJ0oj+Gtf9FK8oDyW56ZQXBbHr14racps9iQULRmrjepMPp4jZ3mGdJNKU/JtLoT/N2Xf7OUd+nGA+09fcHV1I8+mJWvru1sNXXqT/wCuqSxbsFtL/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fbd9018d3b1bba7ed8145a7ade13c635/8ac56/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 240w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/d3be9/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 480w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/e46b2/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 960w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/f992d/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 1440w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/882b9/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 1920w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/38c53/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.webp 2862w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fbd9018d3b1bba7ed8145a7ade13c635/8ff5a/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 240w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/e85cb/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 480w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/d9199/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 960w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/07a9c/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 1440w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/29114/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 1920w,\n/static/fbd9018d3b1bba7ed8145a7ade13c635/bc81a/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png 2862w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fbd9018d3b1bba7ed8145a7ade13c635/d9199/%EC%98%81%ED%99%94%EB%A6%AC%EC%8A%A4%ED%8A%B8_%EB%8D%B0%EC%9D%B4%ED%84%B0.png\"\n            alt=\"영화리스트_데이터\"\n            title=\"영화리스트_데이터\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li>다른 데이터를 화면에 보여 주고 싶으면 콘솔의 데이터를 확인 하셔서 원하는 파라미터를 사용 하시면 됩니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5e9a00ea06d15b96d813d36e674e9364/f09ab/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACHUlEQVQ4y2WTaZKjMAyFc5MOhgA2YDD7ErL1UjVVM1Vz/8u8ecLp7qTnh0pYNp+eJHunjcXpfIMta6TawOQWWVYhTQx0mn1ZKsaYWMLvOOW+KdB3I/p2wDivjGXYBSqG6yZ0/czNG/r+hHq8IiwdIrGqRlS33ruG3kFnFraoYLISimfCfkCicxyiBLt9cICpOtTNgKH5i9KOiK1FsK5Q0wwl/nqFOp28Z0wPE+x6RsYE2XpCeqS6cULa9h6Yux5NS+nNH1QlN5g1WI5QPKTow/MZ6sj1smwW3K6bL1lqRyF5ReUf71BU+gysf1Mh5T8Cjx4YUmlIJZIgpcp8WZFwP6SZ8wVFP/keCjBz3TOw+qHwcoGaFw9n6RG/TT8iZ+kJLZAYzxxMLsAIRTuj5rQ694slL0iL0pf4ULIo3IBH703Hclmyq7stgXp72wa3AXMCq4Yqq3fU1QVJliEUhcP4pcz30CcRuEASqrQEVgQn7J9yn8DmB9BkHiRAmbSAZD37ofhE89a/gsCWQM3/A/eksL8Dz1SYf/8owEeF7JfcO0tILSAp+fXVK+ZFvwMXOGZo3Qcad0Wa575XWw+X//on64TfKRNolh0zJsPRfG27l30IU4+8UxOcvaLIBxwSDdW0COoGAb3q+m/PyxvyQmu+Hm0dElsRNiLiICN9n7IuHJs7orAtn5PdehLHGpIs4P7+05S34B4XkzMv931Z/wM+UZWZaXX1EAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5e9a00ea06d15b96d813d36e674e9364/8ac56/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.webp 240w,\n/static/5e9a00ea06d15b96d813d36e674e9364/d3be9/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.webp 480w,\n/static/5e9a00ea06d15b96d813d36e674e9364/e46b2/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.webp 960w,\n/static/5e9a00ea06d15b96d813d36e674e9364/e19c7/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.webp 1250w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5e9a00ea06d15b96d813d36e674e9364/8ff5a/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png 240w,\n/static/5e9a00ea06d15b96d813d36e674e9364/e85cb/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png 480w,\n/static/5e9a00ea06d15b96d813d36e674e9364/d9199/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png 960w,\n/static/5e9a00ea06d15b96d813d36e674e9364/f09ab/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png 1250w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5e9a00ea06d15b96d813d36e674e9364/d9199/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%82%B4%EC%9A%A9.png\"\n            alt=\"데이터내용\"\n            title=\"데이터내용\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n</ol>\n<h3 id=\"4-마치며\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"4 마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 마치며</h3>\n<ul>\n<li>이 방법을 통해 페이지 로딩 지연 이슈를 개선 하게 되었고, 무한 스크롤을 구현하기 위해 여러가지 방법을 시도해 보다가 블로그에 정리해 보았습니다.</li>\n<li>또한 <code class=\"language-text\">ie11</code>, <code class=\"language-text\">safari</code>, <code class=\"language-text\">chrome</code>, <code class=\"language-text\">edge</code> 등 <U>다양한 브라우저에서도 모두 정상 동작 한다는 점</U>이 매우 마음에 들었습니다. 무한 스크롤을 구현하게 되신다면 추천 드립니다!</li>\n<li>내용이 도움이 되셨다면 아래 <strong>좋아요</strong>나 <strong>댓글</strong> 부탁 드립니다!👍🏻</li>\n</ul>\n<hr>\n<p>오늘 준비한 내용은 여기까지 입니다.<br>\n이번 포스팅이 도움이 되셨거나 궁금한 점이 있으시다면 언제든지 댓글을 달아주세요!🙋🏻‍♀️✨    </p>","fields":{"slug":"/posts/react/react-infinite-scroll","tagSlugs":["/tag/react/","/tag/react-infinite-scroll/","/tag/react-infinite-scroll-component/","/tag/react-virtualize/","/tag/pagination/","/tag/api/"]},"frontmatter":{"date":"2022-02-23 12:47:20","description":"안녕하세요! 이번 포스팅 에서는 `React.js`에서 무한 스크롤 구현 방법에 대해 소개해 드리겠습니다.","tags":["React","react-infinite-scroll","react-infinite-scroll-component","react-virtualize","pagination","API"],"title":"[React] 무한 스크롤 구현 방법 (feat.react-infinite-scroll-component)","socialImage":null}}},"pageContext":{"slug":"/posts/react/react-infinite-scroll"}},"staticQueryHashes":["251939775","401334301","825871152"]}